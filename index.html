<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
	    <meta name="viewport" content="width=device-width, initial-scale=1">
	    <title>React Test</title>
		<script type="text/javascript" src="js/react-0.8.0.js"></script>
		<script type="text/javascript" src="js/JSXTransformer-0.8.0.js"></script>
		<script type="text/javascript" src="js/jquery.min.js"></script>
		<link rel="stylesheet" href="css/bootstrap.min.css">
		<link rel="stylesheet" href="css/bootstrap-theme.min.css">
		<script type="text/javascript" src="js/bootstrap.min.js"></script>
	</head>
	<body>
		<nav class="navbar navbar-inverse">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">Project name</a>
          </div>
          <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li class="active"><a href="#">Home</a></li>
              <li><a href="#about">About</a></li>
              <li><a href="#contact">Contact</a></li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Dropdown <span class="caret"></span></a>
                <ul class="dropdown-menu">
                  <li><a href="#">Action</a></li>
                  <li><a href="#">Another action</a></li>
                  <li><a href="#">Something else here</a></li>
                  <li role="separator" class="divider"></li>
                  <li class="dropdown-header">Nav header</li>
                  <li><a href="#">Separated link</a></li>
                  <li><a href="#">One more separated link</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </nav>
		<div id="content"></div>
		<script type="text/jsx">
		/*** @jsx React.DOM */

		var PersonApp = React.createClass({
			getInitialState:function(){
				return {
					data:[],
					first:'',
					last:''
				}
			},
			onChangeFirst:function(e){
				this.setState({first:e.target.value})
			},
			onChangeLast:function(e){
				this.setState({last:e.target.value})
			},
			handleSubmit:function(e){
				e.preventDefault();
				this.state.data.push({first:this.state.first, last:this.state.last});
				this.setState({first:'',last:''});
			},
			render: function(){
				return (
					<div>
						<div className="col-sm-6">
							<div className="panel panel-primary">
								<div className="panel-heading">
									<h3 className="panel-title">Super Hero Form</h3>
								</div>
								<div className="panel-body">
									<form onSubmit={this.handleSubmit}>
										<div className="row">
											<div className="col-sm-4">
												First Name
											</div>
											<div>
												<input type="text" value={this.state.first} onChange={this.onChangeFirst} />
											</div>
										</div>
										<div className="row">
											<div className="col-sm-4">
												Last Name
											</div>
											<div>
												<input type="text" value={this.state.last} onChange={this.onChangeLast} />
											</div>
										</div>
										<button>Add</button>
									</form>
								</div>
							</div>
						</div>
						<PersonList data={this.state.data} />
					</div>
				)
			}
		});

		var Person = React.createClass({
			render:function(){
				return (
					<div>
						<div className="col-sm-4">
							<div className="panel panel-primary">
								<div className="panel-heading">
									<h3 className="panel-title">Super Hero</h3>
								</div>
								<div className="panel-body">
									{this.props.last}, {this.props.first}
								</div>
							</div>
						</div>
					</div>
				)
			}
		});

		var PersonList = React.createClass({
			render:function(){
				var people = this.props.data.map(function(person){
					return <Person first={person.first} last={person.last} />
				});
				return (
					<div>
						{people}
					</div>
				)
			}
		});

		React.renderComponent(<PersonApp />, document.getElementById('content'));
		</script>
	</body>
</html>